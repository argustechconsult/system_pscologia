{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///home/jhon/Desktop/ALURA/argus/projetos_landinpages/system_pscologia/context/AppContext.tsx"],"sourcesContent":["import React, {\n  createContext,\n  useContext,\n  useState,\n  useEffect,\n  ReactNode,\n} from 'react';\nimport {\n  Client,\n  Appointment,\n  FinancialRecord,\n  KanbanTask,\n  SessionReport,\n  GlobalSettings,\n} from '../types';\n\ninterface AppContextType {\n  isAuthenticated: boolean;\n  login: () => void;\n  logout: () => void;\n  clients: Client[];\n  setClients: React.Dispatch<React.SetStateAction<Client[]>>;\n  appointments: Appointment[];\n  setAppointments: React.Dispatch<React.SetStateAction<Appointment[]>>;\n  sessionReports: SessionReport[];\n  setSessionReports: React.Dispatch<React.SetStateAction<SessionReport[]>>;\n  finances: FinancialRecord[];\n  setFinances: React.Dispatch<React.SetStateAction<FinancialRecord[]>>;\n  kanbanTasks: KanbanTask[];\n  setKanbanTasks: React.Dispatch<React.SetStateAction<KanbanTask[]>>;\n  settings: GlobalSettings;\n  setSettings: React.Dispatch<React.SetStateAction<GlobalSettings>>;\n  registerNewBooking: (\n    clientData: { name: string; email: string; phone: string },\n    appointmentData: { date: string; time: string },\n  ) => Appointment;\n}\n\nconst AppContext = createContext<AppContextType | undefined>(undefined);\n\nexport const AppProvider: React.FC<{ children: ReactNode }> = ({\n  children,\n}) => {\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean>(false);\n\n  // Initialize state only on client-side to avoid hydration mismatch\n  useEffect(() => {\n    const auth = localStorage.getItem('soraia_auth') === 'true';\n    setIsAuthenticated(auth);\n  }, []);\n\n  const [settings, setSettings] = useState<GlobalSettings>({\n    defaultPrice: 250,\n    defaultDuration: 50,\n  });\n  const [clients, setClients] = useState<Client[]>([]);\n  const [appointments, setAppointments] = useState<Appointment[]>([]);\n  const [sessionReports, setSessionReports] = useState<SessionReport[]>([]);\n  const [finances, setFinances] = useState<FinancialRecord[]>([]);\n  const [kanbanTasks, setKanbanTasks] = useState<KanbanTask[]>([]);\n\n  // Load initial data\n  useEffect(() => {\n    const savedSettings = localStorage.getItem('soraia_settings');\n    if (savedSettings) setSettings(JSON.parse(savedSettings));\n\n    const savedClients = localStorage.getItem('soraia_clients');\n    if (savedClients) {\n      setClients(JSON.parse(savedClients));\n    } else {\n      setClients([\n        {\n          id: '1',\n          name: 'João Silva',\n          address: 'Rua das Flores, 123',\n          phone: '2199999999',\n          email: 'joao@email.com',\n          status: 'active',\n          treatmentStage: 'In Treatment',\n          lastSessionDate: '2023-10-20',\n        },\n        {\n          id: '2',\n          name: 'Maria Souza',\n          address: 'Av. Paulista, 1000',\n          phone: '2198888888',\n          email: 'maria@email.com',\n          status: 'inactive',\n          treatmentStage: 'Evaluation',\n          lastSessionDate: '2023-08-15',\n        },\n      ]);\n    }\n\n    const savedAppointments = localStorage.getItem('soraia_appointments');\n    if (savedAppointments) {\n      setAppointments(JSON.parse(savedAppointments));\n    } else {\n      const tomorrow = new Date();\n      tomorrow.setDate(tomorrow.getDate() + 1);\n      const tomorrowStr = tomorrow.toISOString().split('T')[0];\n\n      setAppointments([\n        {\n          id: 'app-joao-1',\n          clientId: '1',\n          date: tomorrowStr,\n          time: '14:00',\n          type: 'Clinical',\n          status: 'scheduled',\n          meetLink: 'https://meet.google.com/soraia-joao-session',\n          price: 250,\n          duration: 50,\n        },\n        {\n          id: 'app-maria-prev',\n          clientId: '2',\n          date: '2023-08-15',\n          time: '10:00',\n          type: 'Neuropsychology',\n          status: 'completed',\n          price: 450,\n          duration: 90,\n        },\n      ]);\n    }\n\n    const savedReports = localStorage.getItem('soraia_reports');\n    if (savedReports) setSessionReports(JSON.parse(savedReports));\n\n    const savedFinances = localStorage.getItem('soraia_finances');\n    if (savedFinances) setFinances(JSON.parse(savedFinances));\n\n    const savedKanban = localStorage.getItem('soraia_kanban');\n    if (savedKanban) {\n      setKanbanTasks(JSON.parse(savedKanban));\n    } else {\n      setKanbanTasks([\n        { id: 'k1', title: 'Análise de Testes - João', status: 'doing' },\n        { id: 'k2', title: 'Relatório Final - Maria', status: 'todo' },\n      ]);\n    }\n  }, []);\n\n  // Save changes\n  useEffect(() => {\n    if (clients.length > 0)\n      localStorage.setItem('soraia_clients', JSON.stringify(clients));\n  }, [clients]);\n\n  useEffect(() => {\n    if (appointments.length > 0)\n      localStorage.setItem('soraia_appointments', JSON.stringify(appointments));\n  }, [appointments]);\n\n  useEffect(() => {\n    if (sessionReports.length > 0)\n      localStorage.setItem('soraia_reports', JSON.stringify(sessionReports));\n  }, [sessionReports]);\n\n  useEffect(() => {\n    if (finances.length > 0)\n      localStorage.setItem('soraia_finances', JSON.stringify(finances));\n  }, [finances]);\n\n  useEffect(() => {\n    if (kanbanTasks.length > 0)\n      localStorage.setItem('soraia_kanban', JSON.stringify(kanbanTasks));\n  }, [kanbanTasks]);\n\n  useEffect(() => {\n    localStorage.setItem('soraia_settings', JSON.stringify(settings));\n  }, [settings]);\n\n  const login = () => {\n    setIsAuthenticated(true);\n    localStorage.setItem('soraia_auth', 'true');\n  };\n\n  const logout = () => {\n    setIsAuthenticated(false);\n    localStorage.removeItem('soraia_auth');\n  };\n\n  const registerNewBooking = (\n    clientData: { name: string; email: string; phone: string },\n    appointmentData: { date: string; time: string },\n  ) => {\n    let existingClient = clients.find(\n      (c) => c.email.toLowerCase() === clientData.email.toLowerCase(),\n    );\n    let clientId = '';\n\n    if (!existingClient) {\n      clientId = Date.now().toString();\n      const newClient: Client = {\n        id: clientId,\n        name: clientData.name,\n        email: clientData.email,\n        phone: clientData.phone,\n        address: 'Pendente',\n        status: 'pending',\n        treatmentStage: 'First Contact',\n      };\n      setClients((prev) => [...prev, newClient]);\n    } else {\n      clientId = existingClient.id;\n    }\n\n    const price = settings.defaultPrice;\n    const duration = settings.defaultDuration;\n\n    const newAppointment: Appointment = {\n      id: `app-${Date.now()}`,\n      clientId: clientId,\n      date: appointmentData.date,\n      time: appointmentData.time,\n      type: 'Clinical',\n      status: 'scheduled',\n      meetLink: `https://meet.google.com/soraia-${Math.random()\n        .toString(36)\n        .substring(7)}`,\n      price: price,\n      duration: duration,\n    };\n\n    setAppointments((prev) => [...prev, newAppointment]);\n\n    const newFinancialRecord: FinancialRecord = {\n      id: `f-${Date.now()}`,\n      description: `Agendamento Online - ${clientData.name}`,\n      amount: price,\n      type: 'income',\n      date: appointmentData.date,\n      category: 'Atendimento',\n    };\n    setFinances((prev) => [...prev, newFinancialRecord]);\n\n    return newAppointment;\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        isAuthenticated,\n        login,\n        logout,\n        clients,\n        setClients,\n        appointments,\n        setAppointments,\n        sessionReports,\n        setSessionReports,\n        finances,\n        setFinances,\n        kanbanTasks,\n        setKanbanTasks,\n        settings,\n        setSettings,\n        registerNewBooking,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n\nexport const useApp = () => {\n  const context = useContext(AppContext);\n  if (!context) throw new Error('useApp must be used within AppProvider');\n  return context;\n};\n"],"names":[],"mappings":";;;;;;;AAAA;;;AAsCA,MAAM,2BAAa,IAAA,oHAAa,EAA6B;AAEtD,MAAM,cAAiD,CAAC,EAC7D,QAAQ,EACT;IACC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,+GAAQ,EAAU;IAEhE,mEAAmE;IACnE,IAAA,gHAAS,EAAC;QACR,MAAM,OAAO,aAAa,OAAO,CAAC,mBAAmB;QACrD,mBAAmB;IACrB,GAAG,EAAE;IAEL,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAiB;QACvD,cAAc;QACd,iBAAiB;IACnB;IACA,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,+GAAQ,EAAgB,EAAE;IAClE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,+GAAQ,EAAkB,EAAE;IACxE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAoB,EAAE;IAC9D,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,+GAAQ,EAAe,EAAE;IAE/D,oBAAoB;IACpB,IAAA,gHAAS,EAAC;QACR,MAAM,gBAAgB,aAAa,OAAO,CAAC;QAC3C,IAAI,eAAe,YAAY,KAAK,KAAK,CAAC;QAE1C,MAAM,eAAe,aAAa,OAAO,CAAC;QAC1C,IAAI,cAAc;YAChB,WAAW,KAAK,KAAK,CAAC;QACxB,OAAO;YACL,WAAW;gBACT;oBACE,IAAI;oBACJ,MAAM;oBACN,SAAS;oBACT,OAAO;oBACP,OAAO;oBACP,QAAQ;oBACR,gBAAgB;oBAChB,iBAAiB;gBACnB;gBACA;oBACE,IAAI;oBACJ,MAAM;oBACN,SAAS;oBACT,OAAO;oBACP,OAAO;oBACP,QAAQ;oBACR,gBAAgB;oBAChB,iBAAiB;gBACnB;aACD;QACH;QAEA,MAAM,oBAAoB,aAAa,OAAO,CAAC;QAC/C,IAAI,mBAAmB;YACrB,gBAAgB,KAAK,KAAK,CAAC;QAC7B,OAAO;YACL,MAAM,WAAW,IAAI;YACrB,SAAS,OAAO,CAAC,SAAS,OAAO,KAAK;YACtC,MAAM,cAAc,SAAS,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;YAExD,gBAAgB;gBACd;oBACE,IAAI;oBACJ,UAAU;oBACV,MAAM;oBACN,MAAM;oBACN,MAAM;oBACN,QAAQ;oBACR,UAAU;oBACV,OAAO;oBACP,UAAU;gBACZ;gBACA;oBACE,IAAI;oBACJ,UAAU;oBACV,MAAM;oBACN,MAAM;oBACN,MAAM;oBACN,QAAQ;oBACR,OAAO;oBACP,UAAU;gBACZ;aACD;QACH;QAEA,MAAM,eAAe,aAAa,OAAO,CAAC;QAC1C,IAAI,cAAc,kBAAkB,KAAK,KAAK,CAAC;QAE/C,MAAM,gBAAgB,aAAa,OAAO,CAAC;QAC3C,IAAI,eAAe,YAAY,KAAK,KAAK,CAAC;QAE1C,MAAM,cAAc,aAAa,OAAO,CAAC;QACzC,IAAI,aAAa;YACf,eAAe,KAAK,KAAK,CAAC;QAC5B,OAAO;YACL,eAAe;gBACb;oBAAE,IAAI;oBAAM,OAAO;oBAA4B,QAAQ;gBAAQ;gBAC/D;oBAAE,IAAI;oBAAM,OAAO;oBAA2B,QAAQ;gBAAO;aAC9D;QACH;IACF,GAAG,EAAE;IAEL,eAAe;IACf,IAAA,gHAAS,EAAC;QACR,IAAI,QAAQ,MAAM,GAAG,GACnB,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;IAC1D,GAAG;QAAC;KAAQ;IAEZ,IAAA,gHAAS,EAAC;QACR,IAAI,aAAa,MAAM,GAAG,GACxB,aAAa,OAAO,CAAC,uBAAuB,KAAK,SAAS,CAAC;IAC/D,GAAG;QAAC;KAAa;IAEjB,IAAA,gHAAS,EAAC;QACR,IAAI,eAAe,MAAM,GAAG,GAC1B,aAAa,OAAO,CAAC,kBAAkB,KAAK,SAAS,CAAC;IAC1D,GAAG;QAAC;KAAe;IAEnB,IAAA,gHAAS,EAAC;QACR,IAAI,SAAS,MAAM,GAAG,GACpB,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC;IAC3D,GAAG;QAAC;KAAS;IAEb,IAAA,gHAAS,EAAC;QACR,IAAI,YAAY,MAAM,GAAG,GACvB,aAAa,OAAO,CAAC,iBAAiB,KAAK,SAAS,CAAC;IACzD,GAAG;QAAC;KAAY;IAEhB,IAAA,gHAAS,EAAC;QACR,aAAa,OAAO,CAAC,mBAAmB,KAAK,SAAS,CAAC;IACzD,GAAG;QAAC;KAAS;IAEb,MAAM,QAAQ;QACZ,mBAAmB;QACnB,aAAa,OAAO,CAAC,eAAe;IACtC;IAEA,MAAM,SAAS;QACb,mBAAmB;QACnB,aAAa,UAAU,CAAC;IAC1B;IAEA,MAAM,qBAAqB,CACzB,YACA;QAEA,IAAI,iBAAiB,QAAQ,IAAI,CAC/B,CAAC,IAAM,EAAE,KAAK,CAAC,WAAW,OAAO,WAAW,KAAK,CAAC,WAAW;QAE/D,IAAI,WAAW;QAEf,IAAI,CAAC,gBAAgB;YACnB,WAAW,KAAK,GAAG,GAAG,QAAQ;YAC9B,MAAM,YAAoB;gBACxB,IAAI;gBACJ,MAAM,WAAW,IAAI;gBACrB,OAAO,WAAW,KAAK;gBACvB,OAAO,WAAW,KAAK;gBACvB,SAAS;gBACT,QAAQ;gBACR,gBAAgB;YAClB;YACA,WAAW,CAAC,OAAS;uBAAI;oBAAM;iBAAU;QAC3C,OAAO;YACL,WAAW,eAAe,EAAE;QAC9B;QAEA,MAAM,QAAQ,SAAS,YAAY;QACnC,MAAM,WAAW,SAAS,eAAe;QAEzC,MAAM,iBAA8B;YAClC,IAAI,CAAC,IAAI,EAAE,KAAK,GAAG,IAAI;YACvB,UAAU;YACV,MAAM,gBAAgB,IAAI;YAC1B,MAAM,gBAAgB,IAAI;YAC1B,MAAM;YACN,QAAQ;YACR,UAAU,CAAC,+BAA+B,EAAE,KAAK,MAAM,GACpD,QAAQ,CAAC,IACT,SAAS,CAAC,IAAI;YACjB,OAAO;YACP,UAAU;QACZ;QAEA,gBAAgB,CAAC,OAAS;mBAAI;gBAAM;aAAe;QAEnD,MAAM,qBAAsC;YAC1C,IAAI,CAAC,EAAE,EAAE,KAAK,GAAG,IAAI;YACrB,aAAa,CAAC,qBAAqB,EAAE,WAAW,IAAI,EAAE;YACtD,QAAQ;YACR,MAAM;YACN,MAAM,gBAAgB,IAAI;YAC1B,UAAU;QACZ;QACA,YAAY,CAAC,OAAS;mBAAI;gBAAM;aAAmB;QAEnD,OAAO;IACT;IAEA,qBACE,qKAAC,WAAW,QAAQ;QAClB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;AAEO,MAAM,SAAS;IACpB,MAAM,UAAU,IAAA,iHAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,MAAM,IAAI,MAAM;IAC9B,OAAO;AACT"}},
    {"offset": {"line": 253, "column": 0}, "map": {"version":3,"sources":["file:///home/jhon/Desktop/ALURA/argus/projetos_landinpages/system_pscologia/pages/_app.tsx"],"sourcesContent":["import type { AppProps } from 'next/app';\nimport { AppProvider } from '../context/AppContext';\n\nfunction MyApp({ Component, pageProps }: AppProps) {\n  return (\n    <AppProvider>\n      <Component {...pageProps} />\n    </AppProvider>\n  );\n}\n\nexport default MyApp;\n"],"names":[],"mappings":";;;;;AACA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAY;IAC/C,qBACE,qKAAC,8HAAW;kBACV,cAAA,qKAAC;YAAW,GAAG,SAAS;;;;;;;;;;;AAG9B;uCAEe"}}]
}