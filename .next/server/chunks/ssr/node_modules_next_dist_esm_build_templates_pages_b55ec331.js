module.exports=[17843,a=>{"use strict";var b=a.i(79168),c=a.i(27068),d=a.i(32759),e=a.i(20935),f=a.i(67298),g=a.i(8171),h=a.i(59426),i=a.i(27669),j=a.i(57143),k=a.i(99987),l=a.i(64375);let m=(0,l.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),n=(0,l.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var o=a.i(14619),p=a.i(38609),q=a.i(65013);let r=(0,l.default)("pen-tool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),s=(0,l.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var t=a.i(2026);let u=(0,l.default)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var v=a.i(66571);let w=(0,l.default)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),x=(0,l.default)("panel-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]),y=({appointments:a,clients:b,reports:c,setReports:d})=>{let[e,f]=(0,i.useState)(""),[h,l]=(0,i.useState)(null),[y,z]=(0,i.useState)(null),[A,B]=(0,i.useState)({observations:"",evolution:"",conduct:""}),[C,D]=(0,i.useState)(!0),E=(0,i.useMemo)(()=>{let c=b.map(b=>{let c=a.filter(a=>a.clientId===b.id),d=c.length>0?[...c].sort((a,b)=>b.date.localeCompare(a.date))[0]:null;return{...b,lastDate:d?d.date:"0000-00-00"}});return(e.trim()?c.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.email.toLowerCase().includes(e.toLowerCase())):c).sort((a,b)=>b.lastDate.localeCompare(a.lastDate))},[b,a,e]),F=(0,i.useMemo)(()=>h?a.filter(a=>a.clientId===h).sort((a,b)=>b.date.localeCompare(a.date)):[],[a,h]),G=(0,i.useMemo)(()=>b.find(a=>a.id===h),[b,h]);if(y){let b=a.find(a=>a.id===y.appointmentId);return(0,g.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-xl border border-slate-100 flex flex-col h-full animate-scale-up overflow-hidden",children:[(0,g.jsxs)("div",{className:"p-8 border-b border-slate-100 bg-white flex flex-col sm:flex-row justify-between items-center gap-6",children:[(0,g.jsxs)("div",{className:"flex items-center gap-6",children:[(0,g.jsx)("button",{onClick:()=>z(null),className:"p-3 hover:bg-slate-50 rounded-2xl text-slate-400 hover:text-teal-600 transition-all border border-slate-100 group shadow-sm",title:"Voltar ao Histórico",children:(0,g.jsx)(v.ChevronLeft,{size:24,className:"group-hover:-translate-x-1 transition-transform"})}),(0,g.jsxs)("div",{className:"flex items-center gap-5",children:[(0,g.jsx)("div",{className:"w-14 h-14 bg-teal-600 text-white rounded-[1.2rem] flex items-center justify-center shadow-xl shadow-teal-100",children:(0,g.jsx)(k.FileText,{size:28})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-2xl font-bold text-slate-900 tracking-tight",children:"Prontuário Clínico"}),(0,g.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,g.jsx)("span",{className:"text-sm font-bold text-teal-600 bg-teal-50 px-3 py-0.5 rounded-full",children:G?.name}),(0,g.jsx)("span",{className:"w-1 h-1 rounded-full bg-slate-300"}),(0,g.jsx)("span",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest",children:new Date((b?.date||"")+"T12:00:00").toLocaleDateString("pt-BR")})]})]})]})]}),(0,g.jsxs)("div",{className:"flex gap-4",children:[(0,g.jsx)("button",{onClick:()=>z(null),className:"px-8 py-4 rounded-2xl font-bold text-slate-500 hover:bg-slate-100 transition-all active:scale-95",children:"Cancelar"}),(0,g.jsxs)("button",{onClick:()=>{if(!y)return;let a={id:y.appointmentId,appointmentId:y.appointmentId,clientId:y.clientId,date:new Date().toISOString(),content:`${A.observations}
${A.evolution}
${A.conduct}`,...A};d(b=>[...b.filter(a=>a.appointmentId!==y.appointmentId),a]),z(null)},className:"bg-teal-600 text-white px-10 py-4 rounded-2xl font-bold flex items-center gap-3 hover:bg-teal-700 transition-all shadow-xl shadow-teal-100 active:scale-95",children:[(0,g.jsx)(n,{size:22})," Salvar Relato"]})]})]}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto bg-[#FCFBF7] p-8 lg:p-14",children:(0,g.jsxs)("div",{className:"max-w-6xl mx-auto space-y-12",children:[(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-teal-700 flex items-center gap-3 ml-2",children:[(0,g.jsx)("div",{className:"w-2 h-2 rounded-full bg-teal-500 animate-pulse"})," Observações da Sessão"]}),(0,g.jsx)("textarea",{value:A.observations,onChange:a=>B({...A,observations:a.target.value}),placeholder:"Principais queixas e estado emocional do paciente...",className:"w-full bg-white border border-slate-200 rounded-[2rem] p-10 min-h-[250px] focus:ring-8 focus:ring-teal-500/5 focus:border-teal-500 outline-none transition-all text-slate-800 leading-relaxed shadow-sm font-medium text-xl placeholder:text-slate-300"})]}),(0,g.jsxs)("div",{className:"space-y-4",children:[(0,g.jsxs)("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-teal-700 flex items-center gap-3 ml-2",children:[(0,g.jsx)("div",{className:"w-2 h-2 rounded-full bg-teal-500 animate-pulse"})," Evolução Terapêutica"]}),(0,g.jsx)("textarea",{value:A.evolution,onChange:a=>B({...A,evolution:a.target.value}),placeholder:"Insights e respostas às intervenções técnicas...",className:"w-full bg-white border border-slate-200 rounded-[2rem] p-10 min-h-[250px] focus:ring-8 focus:ring-teal-500/5 focus:border-teal-500 outline-none transition-all text-slate-800 leading-relaxed shadow-sm font-medium text-xl placeholder:text-slate-300"})]}),(0,g.jsxs)("div",{className:"space-y-4 pb-20",children:[(0,g.jsxs)("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-teal-700 flex items-center gap-3 ml-2",children:[(0,g.jsx)("div",{className:"w-2 h-2 rounded-full bg-teal-500 animate-pulse"})," Conduta e Próximos Passos"]}),(0,g.jsx)("textarea",{value:A.conduct,onChange:a=>B({...A,conduct:a.target.value}),placeholder:"Planejamento para as próximas sessões ou tarefas...",className:"w-full bg-white border border-slate-200 rounded-[2rem] p-10 min-h-[180px] focus:ring-8 focus:ring-teal-500/5 focus:border-teal-500 outline-none transition-all text-slate-800 leading-relaxed shadow-sm font-medium text-xl placeholder:text-slate-300"})]})]})})]})}return(0,g.jsxs)("div",{className:"space-y-6 h-full flex flex-col animate-fade-in",children:[(0,g.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-slate-800",children:"Prontuário e Relatos"}),(0,g.jsx)("p",{className:"text-slate-500 text-sm",children:"Gerencie o histórico clínico e anotações de cada sessão."})]}),(0,g.jsxs)("button",{onClick:()=>D(!C),className:"bg-white border border-slate-200 p-3 rounded-xl text-slate-500 hover:text-teal-600 transition-all shadow-sm hover:shadow-md flex items-center gap-2 font-bold text-xs uppercase tracking-widest",children:[C?(0,g.jsx)(x,{size:18}):(0,g.jsx)(w,{size:18}),C?"Recolher Busca":"Mostrar Busca"]})]}),(0,g.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-12 gap-6 overflow-hidden min-h-[600px]",children:[C&&(0,g.jsxs)("div",{className:`lg:col-span-4 bg-white rounded-3xl shadow-sm border border-slate-100 flex flex-col overflow-hidden transition-all duration-300 ${h&&"hidden lg:flex"}`,children:[(0,g.jsxs)("div",{className:"p-6 border-b border-slate-100 bg-slate-50/50",children:[(0,g.jsx)("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-4",children:e.trim()?"Resultados":"Últimos Atendimentos"}),(0,g.jsxs)("div",{className:"relative",children:[(0,g.jsx)(j.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),(0,g.jsx)("input",{type:"text",placeholder:"Pesquisar paciente...",value:e,onChange:a=>f(a.target.value),className:"w-full bg-white border border-slate-200 rounded-xl py-3 pl-11 pr-4 text-slate-900 focus:outline-none focus:ring-2 focus:ring-teal-500 transition-all text-sm"})]})]}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto divide-y divide-slate-50",children:E.length>0?E.map(a=>(0,g.jsxs)("button",{onClick:()=>l(a.id),className:`w-full p-6 flex items-center gap-4 hover:bg-teal-50/30 transition-all text-left group ${h===a.id?"bg-teal-50/50 border-r-4 border-teal-500":""}`,children:[(0,g.jsx)("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center font-bold text-lg shadow-sm transition-all ${h===a.id?"bg-teal-600 text-white":"bg-slate-100 text-slate-400 group-hover:bg-teal-100 group-hover:text-teal-600"}`,children:a.name.charAt(0)}),(0,g.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,g.jsx)("p",{className:`font-bold truncate ${h===a.id?"text-teal-900":"text-slate-700"}`,children:a.name}),(0,g.jsxs)("p",{className:"text-[10px] text-slate-400 truncate uppercase tracking-tighter",children:["Último contato: ","0000-00-00"!==a.lastDate?new Date(a.lastDate+"T12:00:00").toLocaleDateString("pt-BR"):"Sem registro"]})]}),(0,g.jsx)(m,{size:18,className:`text-slate-300 transition-transform ${h===a.id?"translate-x-1 text-teal-500":""}`})]},a.id)):(0,g.jsxs)("div",{className:"p-12 text-center text-slate-400 h-full flex flex-col justify-center items-center",children:[(0,g.jsx)(p.User,{size:32,className:"opacity-20 mb-2"}),(0,g.jsx)("p",{className:"text-xs font-bold uppercase tracking-widest text-center",children:"Nenhum registro"})]})})]}),(0,g.jsx)("div",{className:`${C?"lg:col-span-8":"lg:col-span-12"} bg-white rounded-3xl shadow-sm border border-slate-100 flex flex-col overflow-hidden transition-all duration-300`,children:h?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"p-8 border-b border-slate-100 bg-white flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsx)("button",{onClick:()=>l(null),className:"p-2 hover:bg-slate-50 rounded-full text-slate-400",children:(0,g.jsx)(t.ArrowLeft,{size:20})}),(0,g.jsxs)("div",{children:[(0,g.jsxs)("h3",{className:"text-xl font-bold text-slate-900 flex items-center gap-2",children:[(0,g.jsx)(s,{className:"text-teal-600",size:22})," Histórico Clínico"]}),(0,g.jsx)("p",{className:"text-sm font-bold text-teal-600 mt-0.5",children:G?.name})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-2 bg-slate-50 px-5 py-2 rounded-2xl border border-slate-100 shadow-sm",children:[(0,g.jsx)(u,{size:18,className:"text-slate-400"}),(0,g.jsxs)("span",{className:"text-xs font-black text-slate-500 uppercase tracking-widest",children:[F.length," Atendimentos"]})]})]}),(0,g.jsx)("div",{className:"flex-1 overflow-y-auto p-10",children:(0,g.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",children:[F.map(a=>{let b=c.find(b=>b.appointmentId===a.id);return(0,g.jsxs)("button",{onClick:()=>{let b;(b=c.find(b=>b.appointmentId===a.id))?B({observations:b.observations,evolution:b.evolution,conduct:b.conduct}):B({observations:"",evolution:"",conduct:""}),z({appointmentId:a.id,clientId:a.clientId})},className:`w-full group p-8 rounded-[2rem] border transition-all flex items-center justify-between text-left ${b?"bg-white border-slate-200 hover:border-teal-300 hover:shadow-xl hover:shadow-teal-50":"bg-slate-50/50 border-slate-100 border-dashed hover:bg-white hover:border-teal-200"}`,children:[(0,g.jsxs)("div",{className:"flex items-center gap-6",children:[(0,g.jsx)("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all ${b?"bg-teal-50 text-teal-600 group-hover:bg-teal-600 group-hover:text-white":"bg-slate-100 text-slate-400"}`,children:(0,g.jsx)(o.Calendar,{size:28})}),(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"font-bold text-slate-800 text-xl tracking-tight",children:new Date(a.date+"T12:00:00").toLocaleDateString("pt-BR",{day:"2-digit",month:"long",year:"numeric"})}),(0,g.jsxs)("div",{className:"flex items-center gap-4 mt-1.5",children:[(0,g.jsxs)("span",{className:"text-xs font-black text-slate-400 flex items-center gap-1.5 uppercase tracking-widest",children:[(0,g.jsx)(r,{size:14})," ",a.type]}),(0,g.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-slate-200"}),b?(0,g.jsxs)("span",{className:"text-xs font-black text-green-600 flex items-center gap-1.5 uppercase tracking-widest",children:[(0,g.jsx)(n,{size:14})," Prontuário Salvo"]}):(0,g.jsx)("span",{className:"text-xs font-black text-orange-400 flex items-center gap-1.5 italic uppercase tracking-widest",children:"Aguardando relato"})]})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-4",children:[(0,g.jsxs)("div",{className:"text-right mr-4 hidden sm:block",children:[(0,g.jsx)("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest",children:"Duração"}),(0,g.jsxs)("p",{className:"text-sm font-bold text-slate-500",children:[a.duration," min"]})]}),(0,g.jsx)(m,{className:"text-slate-200 group-hover:text-teal-500 transition-transform group-hover:translate-x-2",size:28})]})]},a.id)}),0===F.length&&(0,g.jsxs)("div",{className:"text-center py-24 bg-slate-50 rounded-[3rem] border-2 border-dashed border-slate-200",children:[(0,g.jsx)(q.BookOpen,{size:64,className:"mx-auto mb-4 text-slate-100"}),(0,g.jsx)("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-sm",children:"Nenhum atendimento realizado para este paciente."})]})]})})]}):(0,g.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center text-slate-400 bg-slate-50/20",children:[(0,g.jsx)("div",{className:"w-32 h-32 bg-white rounded-[3rem] shadow-sm border border-slate-100 flex items-center justify-center mb-8",children:(0,g.jsx)(p.User,{size:64,className:"opacity-10"})}),(0,g.jsx)("h3",{className:"text-2xl font-bold text-slate-800 mb-3 tracking-tight",children:"Seleção de Prontuário"}),(0,g.jsx)("p",{className:"max-w-md mx-auto text-slate-500 font-medium",children:"Selecione um paciente na lista lateral para visualizar e gerenciar seu histórico completo de relatos e evoluções clínicas."})]})})]})]})};var z=a.i(91528);function A(){let{appointments:a,clients:b,sessionReports:c,setSessionReports:d,logout:e}=(0,z.useApp)();return(0,g.jsx)(h.default,{onLogout:e,children:(0,g.jsx)(y,{appointments:a,clients:b,reports:c,setReports:d})})}a.s(["default",()=>A],15797);var B=a.i(15797),C=a.i(9193);let D=(0,d.hoist)(B,"default"),E=(0,d.hoist)(B,"getStaticProps"),F=(0,d.hoist)(B,"getStaticPaths"),G=(0,d.hoist)(B,"getServerSideProps"),H=(0,d.hoist)(B,"config"),I=(0,d.hoist)(B,"reportWebVitals"),J=(0,d.hoist)(B,"unstable_getStaticProps"),K=(0,d.hoist)(B,"unstable_getStaticPaths"),L=(0,d.hoist)(B,"unstable_getStaticParams"),M=(0,d.hoist)(B,"unstable_getServerProps"),N=(0,d.hoist)(B,"unstable_getServerSideProps"),O=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/admin/reports",pathname:"/admin/reports",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:B}),P=(0,C.getHandler)({srcPage:"/admin/reports",config:H,userland:B,routeModule:O,getStaticPaths:F,getStaticProps:E,getServerSideProps:G});a.s(["config",0,H,"default",0,D,"getServerSideProps",0,G,"getStaticPaths",0,F,"getStaticProps",0,E,"handler",0,P,"reportWebVitals",0,I,"routeModule",0,O,"unstable_getServerProps",0,M,"unstable_getServerSideProps",0,N,"unstable_getStaticParams",0,L,"unstable_getStaticPaths",0,K,"unstable_getStaticProps",0,J],17843)}];

//# sourceMappingURL=node_modules_next_dist_esm_build_templates_pages_b55ec331.js.map